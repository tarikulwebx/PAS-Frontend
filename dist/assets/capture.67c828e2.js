import{c as g}from"./Camera.678fb6f9.js";import{H as C}from"./HeaderComponent.4486f319.js";import{n as o,g as a,s as h}from"./index.ada7859a.js";import{_ as I}from"./camera.24ea4f0e.js";var Q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYYAAAGGCAYAAAB/gCblAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUxSURBVHgB7dcxFYMAFMDATw2w1hUuEIULXLHioAtDo4E7E3lZhtdbz2sfeNzb9xhe7TMA8EcYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAWNbz2gcAHo4BgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgACGEAIIQBgBAGAEIYAAhhACCEAYAQBgBCGAAIYQAghAGAEAYAQhgAiGV4vfW89oHHvX2P4dUcAwAhDACEMAAQwgBACAMAIQwAhDAAEMIAQAgDACEMAIQwABDCAEAIAwAhDACEMAAQwgBACAMAIQwAhDAAEMIAQAgDACEMAIQwABDCAEAIAwAhDACEMAAQwgBACAMAIQwAhDAAEMIAQAgDACEMAIQwABDCAEAIAwAhDACEMAAQwgBACAMAIQwAhDAAEMIAQAgDACEMAIQwABDCAEAIAwAhDACEMAAQwgBACAMAIQwAhDAAEMIAQAgDACEMAIQwABDCAEAIAwAhDACEMAAQwgBACAMAIQwAhDAAEMIAQAgDACEMAIQwABDCAEAIAwAhDACEMAAQwgBACAMAIQwAhDAAEMIAQAgDACEMAIQwABDCAEAIAwAhDACEMAAQwgBACAMAIQwAhDAAEMIAQAgDACEMAIQwABDCAEAIAwAhDACEMAAQwgBACAMAIQwAhDAAEMIAQAgDACEMAIQwABDCAEAIAwAhDACEMAAQwgBACAMAIQwAhDAAEMIAQAgDACEMAIQwABDCAEAIAwAhDACEMAAQwgBACAMAIQwAhDAAEMIAQPwA1L4NGGzZ6I8AAAAASUVORK5CYII=",c="/assets/yokogaki.14c9dbfb.png",E="/assets/tategaki.fa9364d1.png",n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFDSURBVHgB1VVRUcUwELyiIBLqgDqgEnDAQwHPQYMCJFQCoCCgoHXwigKeg7A3sxkCk7Rp+/hgZ3byke3t5XKXiiTgvTfgEXTgp//GAPZgK4WoEsEfsFjQgCP5we1rsOXeG3hfVdUkJWDWjpm6uSyxdwBPPN1tSXz96JnBj4X6miXziyWDoFsTPPrO8CRKM5eJCnrZAM2eydmc4EBBLRsRum1uc5Ad0IvO3cUV2IDvsg8j1yZloJdzlh2IZsGkDJIbl4IaTGAtO4Dah9KMKYNX8Cbbx2VocwbLfVwAzpGbEzi+K7WsD97lWjQW1TQY1pQK2rvwOJaIw0Sflk7CN+jJ/0QnBSYNDRQ9J9REQRuWJPyE3BYTLZeNjFJwoebUZk2qBTMNoj0e7mUCXzC55186iyUObKF5lEti6ST/10T+ApGJ/QKppOnR6Xle0QAAAABJRU5ErkJggg==",B=function(){var A=this,e=A.$createElement,t=A._self._c||e;return t("div",{attrs:{id:"capture"}},[t("head-component",{attrs:{backBtnTxt:A.backBtnTxt,title:A.headerTitle,prevPage:A.isOcrImageCapture?"/capture-ocr-image":"/"},on:{captureAgain:A.captureAgain}}),t("div",{staticClass:"content"},[t("div",{staticClass:"txt-div"},[t("div",{staticClass:"txt-content"},[t("h1",{staticClass:"title"},[A._v(A._s(A.titleOne))]),t("h1",{staticClass:"title"},[A._v(A._s(A.titleTwo))])])]),t("div",{staticClass:"camera"},[t("camera",{ref:"camera",on:{getPhoto:A.getPhoto,getText:A.getText,captureAgain:A.captureAgain}}),A.showOverlay?t("img",{staticClass:"photo",attrs:{src:Q,alt:"image"}}):A._e()],1),A.showInstructions?t("div",{staticClass:"capture-sample container"},[t("p",[A._v("\u9752\u30E9\u30A4\u30F3\u306E\u5F53\u3066\u65B9")]),t("img",{staticClass:"sample",attrs:{src:c,width:"90px",height:"103px",alt:"sample"}}),t("img",{staticClass:"sample",attrs:{src:E,width:"105px",height:"92px",alt:"sample"}})]):A._e(),A.showTextArea?t("div",{staticClass:"container-fluid ocr-container"},[t("div",{staticClass:"ocr-text-area"},[t("b-field",[t("b-input",{attrs:{maxlength:"200",type:"textarea"},model:{value:A.SearchText,callback:function(s){A.SearchText=s},expression:"SearchText"}})],1)],1)]):A._e()]),t("div",{staticClass:"footer"},[t("div",{staticClass:"buttons"},[A.showInstructions?t("b-button",{staticClass:"btn-orange",attrs:{expanded:""},on:{click:A.TakePhoto}},[t("img",{staticClass:"icon",attrs:{src:I,height:"22px",width:"30px",alt:"icon"}}),t("span",[A._v("\u64AE\u5F71\u3059\u308B fff")])]):A._e(),A.showTextArea?t("b-button",{class:A.SearchText?"btn-orange":"btn-gray",attrs:{disabled:!A.SearchText,expanded:""},on:{click:A.getUsers}},[t("img",{staticClass:"search-icon",attrs:{src:n,alt:"icon"}}),t("span",[A._v("\u691C\u7D22\u3059\u308B sss")])]):A._e()],1)]),t("b-loading",{attrs:{"is-full-page":A.isFullPage,"can-cancel":!1},model:{value:A.isLoading,callback:function(s){A.isLoading=s},expression:"isLoading"}})],1)},l=[];const Y={components:{camera:g,HeadComponent:C},data(){return{photos:[],titleOne:"\u9752\u30E9\u30A4\u30F3\u306B\u691C\u7D22\u5BFE\u8C61\u3092\u91CD\u306D\u3066",titleTwo:"\u64AE\u5F71\u3057\u3066\u304F\u3060\u3055\u3044",backBtnTxt:"",headerTitle:"\u5B9B\u5148\u306E\u64AE\u5F71",isLoading:!1,isFullPage:!0,showInstructions:!0,showTextArea:!1,showOverlay:!0,SearchText:"",isOcrImageCapture:!1,selectedTexts:[]}},methods:{TakePhoto(){this.backBtnTxt="\u518D\u64AE\u5F71",this.headerTitle="\u691C\u7D22\u5BFE\u8C61\u306E\u6307\u5B9A",this.titleOne="\u691C\u7D22\u5BFE\u8C61\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044\u3002",this.titleTwo="\u8907\u6570\u9078\u629E\u3067\u304D\u307E\u3059\u3002",this.showInstructions=!1,this.showTextArea=!0,this.showOverlay=!1,this.$refs.camera.TakePhoto(),this.isOcrImageCapture=!0,this.SearchText=""},getPhoto(A){this.photos.push(A)},getText(A){let e="";A.sort((s,r)=>s.id-r.id).forEach(s=>{e+=" "+s.text}),this.SearchText=e},async getUsers(){if(!a())h("\u521D\u671F\u8A2D\u5B9A\u753B\u9762\u3078\u623B\u308A\u3001\u62E0\u70B9\u3092\u9078\u629E\u3057\u306A\u304A\u3057\u3066\u304F\u3060\u3055\u3044\u3002","is-danger");else if(this.SearchText){this.isLoading=!0,this.$refs.camera.generateImage();let A={name:"search",value:this.SearchText};await this.$store.dispatch("customer/setOpenSearchQuery",A),this.$store.dispatch("customer/setOpenSearchQuery",{name:"ContractStore",value:parseInt(a())}),this.$store.dispatch("customer/setOpenSearchQuery",{name:"personal",value:1}),this.$store.dispatch("customer/setOpenSearchQuery",{name:"corporation",value:1}),await this.$store.dispatch("customer/getCustomersByOpenSearch").then(e=>{this.isLoading=!1,this.$router.push("/ocr-search-result"),e.length>0&&this.getTopFiveCustomers(e)}).catch(e=>{this.isLoading=!1,h(e.message,"is-danger")})}},getTopFiveCustomers(A){let e=0,t=[];for(e=0;e<5;e++)A[e]&&t.push(A[e]);this.$store.dispatch("customer/setTopFiveCustomers",t)},captureAgain(){this.backBtnTxt="",this.headerTitle="\u5B9B\u5148\u306E\u64AE\u5F71",this.titleOne="\u9752\u30E9\u30A4\u30F3\u306B\u691C\u7D22\u5BFE\u8C61\u3092\u91CD\u306D\u3066",this.titleTwo="\u64AE\u5F71\u3057\u3066\u304F\u3060\u3055\u3044",this.showInstructions=!0,this.showTextArea=!1,this.showOverlay=!0,this.isOcrImageCapture=!1,this.$refs.camera.ReTakePhoto()}}},i={};var G=o(Y,B,l,!1,u,"64b6e334",null,null);function u(A){for(let e in i)this[e]=i[e]}var m=function(){return G.exports}();export{m as default};
