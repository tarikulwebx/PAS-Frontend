import{n,s as i}from"./index.ada7859a.js";import{_ as o}from"./logo@2x.b26ac4a4.js";var l=function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{attrs:{id:"login-page"}},[a("div",{staticClass:"container-fluid"},[s._m(0),a("h1",{staticClass:"title"},[s._v("\u30ED\u30B0\u30A4\u30F3")]),a("div",{staticClass:"login-form"},[a("b-field",{attrs:{label:"\u30E6\u30FC\u30B6\u30FCID",message:s.usenameError,type:"is-danger"}},[a("b-input",{attrs:{type:"text",required:"",placeholder:"userid"},on:{input:s.getUsernameError,blur:s.getUsernameError},model:{value:s.loginData.userid,callback:function(t){s.$set(s.loginData,"userid",t)},expression:"loginData.userid"}})],1),a("b-field",{attrs:{label:"\u30D1\u30B9\u30EF\u30FC\u30C9",message:s.pwError,type:"is-danger"}},[a("b-input",{attrs:{placeholder:"password",required:"",type:"password"},on:{input:s.getUPWError,blur:s.getUPWError},model:{value:s.loginData.password,callback:function(t){s.$set(s.loginData,"password",t)},expression:"loginData.password"}})],1)],1),a("div",{staticClass:"buttons"},[a("b-button",{class:s.loginData.userid&&s.loginData.password?"btn-orange":"btn-gray",attrs:{expanded:"",disabled:!s.loginData.userid||!s.loginData.password},on:{click:s.onSubmit}},[s._v("\u30ED\u30B0\u30A4\u30F3\u3059\u308B")])],1)]),a("b-loading",{attrs:{"is-full-page":s.isFullPage,"can-cancel":!1},model:{value:s.isLoading,callback:function(t){s.isLoading=t},expression:"isLoading"}})],1)},d=[function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{staticClass:"logo"},[a("img",{attrs:{src:o,alt:"logo"}})])}];const u={name:"Login",data(){return{show:!1,isFullPage:!0,isLoading:!1,usenameError:"",pwError:"",loginData:{userid:"",password:""}}},created(){this.$store.state.user.token&&this.$router.push("/set-initial")},methods:{getUsernameError(s){!this.loginData.userid||s===null?this.usenameError="\u30E6\u30FC\u30B6\u30FCID\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002":this.usenameError=""},getUPWError(s){!this.loginData.password||s===null?this.pwError="\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u5165\u529B\u3057\u3066\u4E0B\u3055\u3044":this.pwError=""},async onSubmit(){this.loginData.userid&&this.loginData.password?(this.isLoading=!0,await this.$store.dispatch("user/login",this.loginData).then(s=>{s&&s.status_code==200&&(location.href="/set-initial"),this.isLoading=!1}).catch(s=>{this.isLoading=!1,i(s.message?s.message:s.response.data.message,"is-danger")})):(this.isLoading=!1,i("\u30E6\u30FC\u30B6\u30FCID\u3068\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002","is-danger"))}}},r={};var g=n(u,l,d,!1,c,"06a695e3",null,null);function c(s){for(let e in r)this[e]=r[e]}var m=function(){return g.exports}();export{m as default};
